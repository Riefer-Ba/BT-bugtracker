@model bugtracker.Models.Bug
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    ViewData["Title"] = "Manage bugs";
}
@* Create new Bug Form *@
<div class="card mx-auto" style="width: 47rem;">
    <div class="card-header">
    <h5>Create and manage Bugs</h5>
    </div>


  <div class="card-body">
    

    <form asp-action="BugVerwaltung" method="post" >

         <div class="row">
             <div class="col form-group">
                  <input hidden asp-for="Id" placeholder="Id" class="form-control" />
            </div>
         </div>

         @if (SignInManager.IsSignedIn(User))
            {
                <div class="row">
                    <div class="col form-group">
                        <input hidden asp-for="PostedByUser" value="@User.Identity?.Name" class="form-control" />
                    </div>
                </div>
            }

         <div class="row">
             <label class="form-label">Bug summary *</center>
             <div class="col form-group">
                  <input asp-for="Description" placeholder="a short description" class="form-control" required/>
            </div>
         </div>

         <div class="row">
             <label class="form-label">Approximate bug severity *</br>
             <div class="col form-group">
                  <input asp-for="Severity" placeholder="severity of bug 1-5" class="form-control" required/>
            </div>
         </div>

        <div class="row">
             <div class="col form-group">
                 <label class="form-label">Priority</br>
         <select class="form-select" input asp-for="Priority">
               <option value="" selected disabled hidden>Select Priority</option>
               <option value="low">low</option>
               <option value="normal">normal</option>
               <option value="high">high</option>
               <option value="urgent">urgent</option>
         </select>                  
            </div>

            <div class="col form-group">
                <label class="form-label">Status</br>
         <select class="form-select" input asp-for="Status">
               <option value="" selected disabled hidden>Select Status</option>
               <option value="open">open</option>
               <option value="closed">closed</option>
               <option value="in work">in work</option>
         </select>

            </div>

            <div class="col form-group">
                <label class="form-label">Category</>
         <select class="form-select" input asp-for="Category">
               <option value="" selected disabled hidden>Select Category</option>
               <option value="other"> other </option>
               <option value="Administration">Administration</option>
               <option value="HTML">HTML</option>
               <option value="Feature">Feature</option>
         </select>

            </div>
         </div>


         <div class="row">
             <label class="form-label">Additional information</>
             <div class="col">
                  <textarea input asp-for="Details" placeholder="Detailed bug description" class="form-control" rows="3"></textarea>
            </div>
         </div>




    <button type="submit" class="btn btn-primary float-end">Create Bug</button>
    </form>
    
    
  </div>
  
</div>

